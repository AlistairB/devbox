#!/bin/bash
set -Eexuo pipefail

sudo apt install -y \
    libicu-dev \
    libtinfo-dev \
    libgmp-dev

# Need to switch this to eoan until focal is supported
# https://github.com/haskell-CI/haskell-ci/issues/382
sudo add-apt-repository -y ppa:hvr/ghc
sudo apt update
sudo apt install -y ghc-8.6.5 ghc-8.8.3 cabal-install-3.2

echo 'export PATH=$PATH:/opt/ghc/bin' >> $HOME/.profile
